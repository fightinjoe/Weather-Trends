<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    <link rel="stylesheet" href="svg.css">
  </head>
  <body>
    <div id="wrap">
      <input type="text" />
      <button>+</button>
      <ul>
        <li>Cupertino, CA</li>
        <li>San Francisco, CA</li>
        <li>Los Angeles, CA</li>
      </ul>
    </div>
    <!-- <embed width="1000" height="500" src="svg.xml" type="image/svg+xml" /> -->
    <iframe src="weather.svg" width="1000" height="500"></iframe>
    <script>
      var svg, YQL;
      setTimeout(function(){
        svg = $('iframe')[0].getSVGDocument().defaultView;
        YQL = svg.YQL;
        svg.$ = jQuery;
        svg.PW = window; // parent window

        function f(){
          YQL.forecast( this.innerHTML );
        };

        $('li').click(f);

        $('button').click(function(){
          var v = $('input').val(),
             li = $('<li>'+v+'</li>').click(f);
          $('ul').append(li);
          YQL.forecast( v );
        });
      },200);
    </script>
  </body>
</html>